<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Exercise_13</title>


<style type="text/css">
body {
  font-family: Helvetica, arial, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  padding-top: 10px;
  padding-bottom: 10px;
  background-color: white;
  padding: 30px; }

body > *:first-child {
  margin-top: 0 !important; }
body > *:last-child {
  margin-bottom: 0 !important; }

a {
  color: #4183C4; }
a.absent {
  color: #cc0000; }
a.anchor {
  display: block;
  padding-left: 30px;
  margin-left: -30px;
  cursor: pointer;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0; }

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
  cursor: text;
  position: relative; }

h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center;
  text-decoration: none; }

h1 tt, h1 code {
  font-size: inherit; }

h2 tt, h2 code {
  font-size: inherit; }

h3 tt, h3 code {
  font-size: inherit; }

h4 tt, h4 code {
  font-size: inherit; }

h5 tt, h5 code {
  font-size: inherit; }

h6 tt, h6 code {
  font-size: inherit; }

h1 {
  font-size: 28px;
  color: black; }

h2 {
  font-size: 24px;
  border-bottom: 1px solid #cccccc;
  color: black; }

h3 {
  font-size: 18px; }

h4 {
  font-size: 16px; }

h5 {
  font-size: 14px; }

h6 {
  color: #777777;
  font-size: 14px; }

p, blockquote, ul, ol, dl, li, table, pre {
  margin: 15px 0; }

hr {
  background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;
  border: 0 none;
  color: #cccccc;
  height: 4px;
  padding: 0;
}

body > h2:first-child {
  margin-top: 0;
  padding-top: 0; }
body > h1:first-child {
  margin-top: 0;
  padding-top: 0; }
  body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
  margin-top: 0;
  padding-top: 0; }

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0; }

h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
  margin-top: 0; }

li p.first {
  display: inline-block; }
li {
  margin: 0; }
ul, ol {
  padding-left: 30px; }

ul :first-child, ol :first-child {
  margin-top: 0; }

dl {
  padding: 0; }
  dl dt {
    font-size: 14px;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin: 15px 0 5px; }
    dl dt:first-child {
      padding: 0; }
    dl dt > :first-child {
      margin-top: 0; }
    dl dt > :last-child {
      margin-bottom: 0; }
  dl dd {
    margin: 0 0 15px;
    padding: 0 15px; }
    dl dd > :first-child {
      margin-top: 0; }
    dl dd > :last-child {
      margin-bottom: 0; }

blockquote {
  border-left: 4px solid #dddddd;
  padding: 0 15px;
  color: #777777; }
  blockquote > :first-child {
    margin-top: 0; }
  blockquote > :last-child {
    margin-bottom: 0; }

table {
  padding: 0;border-collapse: collapse; }
  table tr {
    border-top: 1px solid #cccccc;
    background-color: white;
    margin: 0;
    padding: 0; }
    table tr:nth-child(2n) {
      background-color: #f8f8f8; }
    table tr th {
      font-weight: bold;
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr td {
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr th :first-child, table tr td :first-child {
      margin-top: 0; }
    table tr th :last-child, table tr td :last-child {
      margin-bottom: 0; }

img {
  max-width: 100%; }

span.frame {
  display: block;
  overflow: hidden; }
  span.frame > span {
    border: 1px solid #dddddd;
    display: block;
    float: left;
    overflow: hidden;
    margin: 13px 0 0;
    padding: 7px;
    width: auto; }
  span.frame span img {
    display: block;
    float: left; }
  span.frame span span {
    clear: both;
    color: #333333;
    display: block;
    padding: 5px 0 0; }
span.align-center {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-center > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: center; }
  span.align-center span img {
    margin: 0 auto;
    text-align: center; }
span.align-right {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-right > span {
    display: block;
    overflow: hidden;
    margin: 13px 0 0;
    text-align: right; }
  span.align-right span img {
    margin: 0;
    text-align: right; }
span.float-left {
  display: block;
  margin-right: 13px;
  overflow: hidden;
  float: left; }
  span.float-left span {
    margin: 13px 0 0; }
span.float-right {
  display: block;
  margin-left: 13px;
  overflow: hidden;
  float: right; }
  span.float-right > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: right; }

code, tt {
  margin: 0 2px;
  padding: 0 5px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px; }

pre code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent; }

.highlight pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }

pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }
  pre code, pre tt {
    background-color: transparent;
    border: none; }

sup {
    font-size: 0.83em;
    vertical-align: super;
    line-height: 0;
}

kbd {
  display: inline-block;
  padding: 3px 5px;
  font-size: 11px;
  line-height: 10px;
  color: #555;
  vertical-align: middle;
  background-color: #fcfcfc;
  border: solid 1px #ccc;
  border-bottom-color: #bbb;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #bbb
}

* {
	-webkit-print-color-adjust: exact;
}
@media screen and (min-width: 914px) {
    body {
        width: 854px;
        margin:0 auto;
    }
}
@media print {
	table, pre {
		page-break-inside: avoid;
	}
	pre {
		word-wrap: break-word;
	}
}
</style>

<style type="text/css">
/**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
	color: black;
	background: none;
	text-shadow: 0 1px white;
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
	text-shadow: none;
	background: #b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
	text-shadow: none;
	background: #b3d4fc;
}

@media print {
	code[class*="language-"],
	pre[class*="language-"] {
		text-shadow: none;
	}
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #f5f2f0;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: slategray;
}

.token.punctuation {
	color: #999;
}

.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
	color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
	color: #a67f59;
	background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
	color: #07a;
}

.token.function {
	color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
	color: #e90;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}
</style>


</head>

<body>

<table width=100% border=>
<tr><td colspan=2><h1>EXERCISE 13 - MULTI-TENANT APPLICATIONS</h1></td></tr>
<tr><td><h3>SAP Partner Workshop</h3></td><td><h1><img src="images/clock.png"> &nbsp;60 min</h1></td></tr>
</table>

<h2 id="toc_0">Description</h2>

<p>In this exercise, you’ll learn how connectivity service resolves destination visibility for extension apps, how to protect multitenancy application by roles, how it works during multitenancy scenario and how to use tenant aware API’s during development of multitenant application.  </p>

<p>The output of the application displays a welcome page showing the URI of the tenant-specific details, destination configuration and user details. It also shows, how users of the consumer subaccount, which is subscribed to this application, can access the application using a tenant-specific URL and how manage role and identity management with regard to consumer subaccount.</p>

<blockquote>
<p>NOTE: - Idea of this hands-on exercise is to illustrate the concept which can be applied when developing SuccessFactors extension application. As we are not leveraging roles, users from SuccessFactors instance for this hands-on exercise for the sake of simplicity.</p>
</blockquote>

<ul>
<li>Set up of Eclipse with SAP Cloud Platform plugins </li>
<li>SAP Cloud Platform Extension account access</li>
</ul>

<p>Refer to this blog to deep dive into multitenancy application development<br>
<a href="https://blogs.sap.com/2016/11/09/developing-multi-tenant-applications-on-the-sap-hana-cloud-platform/">https://blogs.sap.com/2016/11/09/developing-multi-tenant-applications-on-the-sap-hana-cloud-platform/</a></p>

<h2 id="toc_1">Target group</h2>

<ul>
<li>Developers</li>
<li>People interested in learning about S/4HANA extension and SDK<br></li>
</ul>

<h2 id="toc_2">Goal</h2>

<p>The goal of this exercise is to unerstand how to use tenant and user API connectivity service with Multi-Tenant Applications.  </p>

<h2 id="toc_3">Prerequisites</h2>

<p>Here below are prerequisites for this exercise.</p>

<ul>
<li>SAP Cloud Platform account</li>
<li>Java / Eclipse IDE</li>
</ul>

<h2 id="toc_4">Steps</h2>

<ol>
<li><a href="#overview">Overview</a></li>
<li><a href="#create-sample-servlet">Create sample servlet</a></li>
<li><a href="#test-locally">Test the application on your local Tomcat web server</a></li>
<li><a href="#deploy-to-sap-cp">Let’s deploy application to SAP Cloud Platform</a></li>
<li><a href="#subscribe-to-java-apps">Let’s subscribe to sample java apps from the provider account</a></li>
</ol>

<h3 id="toc_5"><a name="overview"></a>Overview</h3>

<p>Multitenant applications that require connection to a remote service can use the connectivity service to configure HTTP or RFC endpoints. In a provider-managed application, such an endpoint can either be once defined by the application provider or by each application consumer. If the application needs to use the same endpoint, independently from the current application consumer, the destination that contains the endpoint configuration is uploaded by the application provider. If the endpoint should be different for each application consumer, the destination shall be uploaded by each application consumer.
Destinations can be simultaneously configured on three levels: </p>

<ul>
<li>application</li>
<li>consumer subaccount</li>
<li>subscription</li>
</ul>

<p>This means it is possible to have one and the same destination on more than one configuration level. 
Destinations visibility according to the level is</p>

<ul>
<li><strong>destination uploaded on consumer subaccount level</strong> - it is visible for the whole subaccount</li>
<li><strong>destination uploaded on consumer subscription level</strong> - it is only visible for the dedicated subscription</li>
<li><strong>destination uploaded on provider application level</strong> - it is visible by all tenants and subaccounts, regardless their permission settings.</li>
</ul>

<p><u>When the application accesses the destination at runtime, the connectivity service tries to first lookup the requested destination in the consumer subaccount on subscription level. If no destination is available there, it checks if the destination is available on the subaccount level of the consumer subaccount. If there is still no destination found, the connectivity service searches on application level of the provider subaccount.</u>
<img src="images/01.png" alt=""></p>

<h3 id="toc_6"><a name="create-sample-servlet"></a>Create sample servlet</h3>

<p>Let’s first create sample servlet application to test connectivity service functionality.</p>

<ol>
<li>Open your Eclipse IDE and switch to the <strong>Java EE</strong> perspective<br>
<img src="images/02.png" alt=""></li>
<li> Download the <a href="files/multitenant.zip">multitenant.zip</a> file and extract it into a folder on your workstation</li>
<li> Go to <strong>File-&gt;Import-&gt;Maven-&gt;Existing Maven Project</strong> and click on <strong>Next</strong><br>
<img src="images/03.png" alt=""></li>
<li> Browse for the path to the folder where you extracted the <em>multitenant.zip</em> file, check that the <em>pom.xml</em> file is selected and click on <strong>Finish</strong>. Maven project is getting imported into local workspace<br>
<img src="images/04.png" alt=""></li>
<li><p>Right click on the project name and choose <strong>Refactor-&gt;Rename</strong>. Since all the attendees to this workshop will be deploying applications to a shared SAP Cloud Platform account, they need to have different application names<br>
<img src="images/05.png" alt=""></p>

<blockquote>
<p>NOTE: Refactor renames the selected element and (if enabled) corrects all references to the elements (also in other files).</p>
</blockquote></li>
<li><p>Give a project unique name like <strong>multitenant&lt;XX&gt;</strong>, where <strong>&lt;XX&gt;</strong> is the <strong>workstation ID</strong> assigned by your instructor<br>
<img src="images/06.png" alt=""></p></li>
<li><p>If you see errors after refactoring, right click on the project and choose <strong>Maven-&gt;Update Project</strong><br>
<img src="images/07.png" alt=""></p></li>
<li><p>Click on <strong>OK</strong><br>
<img src="images/09.png" alt=""></p></li>
<li><p>Right click again on the project and select <strong>Run As-&gt;Maven Build</strong><br>
<img src="images/08.png" alt=""></p></li>
<li><p>Edit the <strong>Goals</strong> by entering <code>clean install</code> and click <strong>Run</strong><br>
<img src="images/10.png" alt=""></p>

<blockquote>
<p>NOTE: This command tells Maven to build all the modules and to create a <em>target</em> folder where the built ones are copied.</p>
</blockquote></li>
<li><p>Check that you got BUILD SUCCESS status in the Console view     <img src="images/11.png" alt=""></p></li>
</ol>

<h3 id="toc_7"><a name="test-locally"></a>Test the application on your local Tomcat web server</h3>

<p>The application has been built: you can just test it on your local Tomcat web server. In this step, we will be enhancing previously created sample extension app to add more logic to invoke tenant context API’s, user API, protect apps by role and finally test connectivity service.</p>

<p>Look at <em>web.xml</em> file (<em>WebContent-&gt;WEB-INF-&gt;web.xml</em>): we added a few JNDI look up resources for tenant context API, Authentication, authorization roles and “search<em>engine</em>destination” destination for connectivity service look-up.</p>

<blockquote>
<p>NOTE: JNDI stands for Java Naming and Directory Interface, which is an application programming interface (API) that provides naming and directory 
functionality to applications written using the Java programming language</p>
</blockquote>

<div><pre><code class="language-markup">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee
         http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;
    version=&quot;3.1&quot;&gt;
    &lt;display-name&gt;multitenant&lt;/display-name&gt;
    &lt;welcome-file-list&gt;
        &lt;welcome-file&gt;Connect&lt;/welcome-file&gt;
    &lt;/welcome-file-list&gt;

    &lt;!-- Declare the JNDI lookup of Tentant --&gt;
    &lt;resource-ref&gt;
        &lt;res-ref-name&gt;TenantContext&lt;/res-ref-name&gt;
        &lt;res-type&gt;com.sap.cloud.account.TenantContext&lt;/res-type&gt;
    &lt;/resource-ref&gt;
    &lt;!-- Declare the JNDI lookup of destination --&gt;
    &lt;resource-ref&gt;
        &lt;res-ref-name&gt;search_engine_destination&lt;/res-ref-name&gt;
        &lt;res-type&gt;com.sap.core.connectivity.api.http.HttpDestination&lt;/res-type&gt;
    &lt;/resource-ref&gt;
    &lt;resource-ref&gt;
        &lt;res-ref-name&gt;connectivityConfiguration&lt;/res-ref-name&gt;
        &lt;res-type&gt;com.sap.core.connectivity.api.configuration.ConnectivityConfiguration&lt;/res-type&gt;
    &lt;/resource-ref&gt;
    &lt;!-- Declare the JNDI lookup of UserProvider --&gt;
    &lt;resource-ref&gt;
        &lt;res-ref-name&gt;user/Provider&lt;/res-ref-name&gt;
        &lt;res-type&gt;com.sap.security.um.user.UserProvider&lt;/res-type&gt;
    &lt;/resource-ref&gt;

    &lt;login-config&gt;
        &lt;auth-method&gt;FORM&lt;/auth-method&gt;
    &lt;/login-config&gt;
    &lt;security-constraint&gt;
        &lt;web-resource-collection&gt;
            &lt;web-resource-name&gt;Protected Area&lt;/web-resource-name&gt;
            &lt;url-pattern&gt;/Connect&lt;/url-pattern&gt;
        &lt;/web-resource-collection&gt;
        &lt;auth-constraint&gt;
            &lt;role-name&gt;Admin&lt;/role-name&gt;
        &lt;/auth-constraint&gt;
    &lt;/security-constraint&gt;
    &lt;security-role&gt;
        &lt;description&gt;All SAP Cloud Platform users&lt;/description&gt;
        &lt;role-name&gt;Admin&lt;/role-name&gt;
    &lt;/security-role&gt;
&lt;/web-app&gt;</code></pre></div>

<p>Before we deploy and test the latest changes on local Tomcat 8 server in Eclipse, we need to create a user ID, roles and other user attributes to test the latest changes.</p>

<blockquote>
<p>NOTE: This process is for testing purposes only. When you deploy to the cloud, user authentication is still handled by the IDP configured with the extension account. Once you have added user authentication/authorization to your Java application, you can test it first on the local server before uploading it to SAP Cloud Platform.</p>
</blockquote>

<p>Look here to get more information: <a href="https://help.sap.com/viewer/65de2977205c403bbc107264b8eccf4b/Cloud/en-US/fe47e02fd9514ab889c37250ed771c0c.html">https://help.sap.com/viewer/65de2977205c403bbc107264b8eccf4b/Cloud/en-US/fe47e02fd9514ab889c37250ed771c0c.html</a></p>

<ol>
<li> Open <strong>Servers</strong> view from <strong>Windows-&gt;Show View-&gt;Servers</strong><br>
<img src="images/12.png" alt=""></li>
<li> Click on the link in the pane or right click on the white space to create a <strong>new server</strong><br>
<img src="images/13.png" alt=""></li>
<li><p>From the <strong>SAP</strong> container choose <strong>Java Web Tomcat 8 Server</strong>, keep <strong>localhost</strong> as server&#39;s host name and click on <strong>Next</strong><br>
<img src="images/14.png" alt=""></p></li>
<li><p>Browse for the latest version of Java Web Tomcat 8 SDK you have installed according to the prerequisites, keep the <strong>Workbench default JRE</strong> and click on <strong>Finish</strong><br>
<img src="images/15.png" alt=""></p></li>
<li><p>Click on <strong>Allow</strong> in case you get this message<br>
<img src="images/16.png" alt=""></p></li>
<li><p>The server is created: at moment it&#39;s empty and stopped<br>
<img src="images/17.png" alt=""></p></li>
<li><p>Double click on the <strong>Java Web Tomcat 8 Server</strong> in the Server pane, switch to <strong>Users</strong> tab and click on the &quot;<strong>+</strong>&quot; sign to add a new user<br>
<img src="images/18.png" alt=""></p></li>
<li><p>Enter &quot;<strong>testuser</strong>&quot; as User ID, choose a password for this user and click <strong>OK</strong><br>
<img src="images/19.png" alt=""></p></li>
<li><p>The user is created: now, let&#39;s add a new role. Click on the &quot;<strong>+</strong>&quot; sign in the <strong>Roles</strong> section<br>
<img src="images/20.png" alt=""></p></li>
<li><p>Enter &quot;<strong>Admin</strong>&quot; and click on <strong>OK</strong><br>
<img src="images/21.png" alt=""></p></li>
<li><p>Now the <strong>testuser</strong> has this <strong>Admin</strong> role assigned<br>
<img src="images/22.png" alt=""></p></li>
<li><p>Download the file <a href="files/search_engine_destination.txt">search_engine_destination.txt</a> by right clicking on this link and choosing <strong>Save link as...</strong>  </p></li>
<li><p>Click on the <strong>Connectivity</strong> tab and choose <strong>Import existing Destination</strong><br>
<img src="images/23.png" alt=""></p></li>
<li><p>Select the file you have just downloaded<br>
<img src="images/24.png" alt=""></p></li>
<li><p>The destination is imported: save the configuration file by clicking on the disk icon on the top left corner<br>
<img src="images/25.png" alt=""></p></li>
<li><p>Now you can run the application: right click on the project and select <strong>Run As-&gt;Run on Server</strong><br>
<img src="images/26.png" alt=""></p></li>
<li><p>Choose an existing server and select the <strong>Java Web Tomcat 8 Server</strong>. Then click on <strong>Finish</strong><br>
<img src="images/27.png" alt=""></p></li>
<li><p>After a while the server will be <strong>Started</strong> and <strong>Synchronized</strong><br>
<img src="images/28.png" alt=""></p></li>
<li><p>Right click on the name of the server in the Server pane and choose <strong>Application URL-&gt;Open</strong><br>
<img src="images/29.png" alt=""></p></li>
<li><p>The logon page will be opened in the Eclipse browser. Enter the credentials for the &quot;testuser&quot; you previously defined and click on <strong>Log in</strong><br>
<img src="images/30.png" alt=""></p></li>
<li><p>The application should show some information about its configuration. Of course, since you are testing it on local, you don&#39;t have any tenant detail<br>
<img src="images/31.png" alt=""></p></li>
<li><p>Congratulations! You have successfully tested your Java application locally.</p></li>
</ol>

<h3 id="toc_8"><a name="deploy-to-sap-cp"></a>Let’s deploy application to SAP Cloud Platform</h3>

<p>In this step, we will be deploying the application we have tested locally in the previous step, to SAP Cloud platform provider account. For this hands-on exercise, we have set up two sub-accounts: one will act as provider account (PROD) and the other (CONSUMER) as consumer account.<br>
<img src="images/32.png" alt=""><br>
You will be deploying multitenancy application to provider account and subscribing to it from the consumer account.</p>

<ol>
<li> Add a new server by right clicking on the white space inside the Servers pane<br>
<img src="images/33.png" alt=""></li>
<li><p>Choose <strong>SAP Cloud Platform</strong> from the SAP catalog and fill</p>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead>

<tbody>
<tr>
<td>Region host</td>
<td>hana.ondemand.com</td>
</tr>
<tr>
<td>Server name</td>
<td>SAP Cloud Platform at hana.ondemand.com</td>
</tr>
</tbody>
</table>

<p>Click on <strong>Next</strong><br>
<img src="images/34.png" alt=""></p></li>
<li><p>Enter the following values and click on <strong>Next</strong>:</p>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead>

<tbody>
<tr>
<td>Application name</td>
<td>connectivity&lt;xx&gt; (replace  <strong>&lt;xx&gt;</strong> with <strong>your workstation id</strong></td>
</tr>
<tr>
<td>Runtime</td>
<td>Java Web Tomcat 8</td>
</tr>
<tr>
<td>Subaccount name</td>
<td>ab796571d</td>
</tr>
<tr>
<td>User name</td>
<td>&lt;your_P/S-username&gt;</td>
</tr>
<tr>
<td>Password</td>
<td>&lt;your_password&gt;</td>
</tr>
<tr>
<td>Save password</td>
<td>not flagged</td>
</tr>
</tbody>
</table>

<p><img src="images/35.png" alt=""></p></li>
<li><p>Select the <em>multitenant</em> application and click on <strong>Add</strong> to publish this application on the server. Then click <strong>Finish</strong><br>
<img src="images/36.png" alt=""></p></li>
<li><p>When the process finishes, your application has been pushed to the SAP Cloud Platform, but at moment is still stopped<br>
<img src="images/37.png" alt=""></p></li>
<li><p>Go to your SAP Cloud Platform cockpit and, among <strong>Java Appplications</strong>, click on the application&#39;s name you just pushed<br>
<img src="images/38.png" alt=""></p></li>
<li><p>The screen shows you some important details about the chosen application. Click on the <strong>Destinations</strong> tab<br>
<img src="images/39.png" alt=""></p></li>
<li><p>In the <strong>Destinations</strong> tab, click on <strong>Import Destination</strong><br>
<img src="images/40.png" alt=""></p></li>
<li><p>Browse for the <em>search_engine_destination.txt</em> file you already downloaded<br>
<img src="images/41.png" alt=""></p></li>
<li><p>The destination is imported. Keep it as it is and click on <strong>Save</strong><br>
<img src="images/42.png" alt=""></p></li>
<li><p>Click on the <strong>Roles</strong> tab under Security on the left side and then click on <strong>New Role</strong><br>
<img src="images/43.png" alt=""></p></li>
<li><p>Add the <strong>Admin</strong> role and click on <strong>Save</strong><br>
<img src="images/44.png" alt=""></p></li>
<li><p>The role has been added: now click on the <strong>Assign</strong> button<br>
<img src="images/45.png" alt=""></p></li>
<li><p>Enter your user for this role and click on <strong>Assign</strong><br>
<img src="images/46.png" alt=""></p></li>
<li><p>Security is properly configured: click on the <strong>Overview</strong> tab to go back to the application details<br>
<img src="images/47.png" alt=""></p></li>
<li><p>Go back to Eclipse and start the application by selecting the <em>connectivity</em> server and clicking on the &quot;play&quot; button on the pane&#39;s toolbar<br>
<img src="images/48.png" alt=""></p></li>
<li><p>After a couple of minutes the application starts<br>
<img src="images/49.png" alt=""></p></li>
<li><p>Going back to your SAP Cloud Platform cockpit you see that even here, in the <strong>Overview</strong> page, the application is reported as started. In the same page there is also the <strong>application URL</strong>. Click on this link<br>
<img src="images/50.png" alt=""></p></li>
<li><p>The application&#39;s home page is shown: here you can find many more details about the tenant where the application is running<br>
<img src="images/51.png" alt=""></p></li>
<li><p>Congratulations! You have successfully deployed you Java application to the SAP Cloud Platform using Eclipse IDE.</p></li>
</ol>

<h3 id="toc_9"><a name="subscribe-to-java-apps"></a>Let’s subscribe to sample java apps from the provider account</h3>

<p>To demonstrate multitenancy concept, we are going to make the consumer account adfd16960 to subscribe to the application &quot;connectivity&quot; in the provider account ab796571d.</p>

<ol>
<li>First of all, check the path where you have installed the SAP Cloud Platform Tools: let&#39;s assume it&#39;s <strong>&lt;path_to_neo&gt;</strong></li>
<li><p>Open Terminal and run the following command </p>

<div><pre><code class="language-bash">&lt;path_to_neo&gt;/tools/neo subscribe -a &lt;subaccount_name&gt; -b &lt;your_app&gt; -h hana.ondemand.com -u &lt;YOUR_SAP_USER&gt;</code></pre></div>

<p>which, in your case, should become</p>

<h4 id="toc_10">MAC</h4>

<div><pre><code class="language-bash">&lt;path_to_neo&gt;/tools/neo.sh subscribe -a adfd16960 -b ab796571d:connectivity&lt;xx&gt; -u &lt;your_user&gt; -h hana.ondemand.com</code></pre></div>

<h4 id="toc_11"> WINDOWS</h4>

<div><pre><code class="language-bash">&lt;path_to_neo&gt;\tools\neo.bat subscribe -a adfd16960 -b ab796571d:connectivity&lt;xx&gt; -u &lt;your_user&gt; -h hana.ondemand.com</code></pre></div>

<p>where you need to replace <strong>&lt;xx&gt;</strong> with your <strong>workstation ID</strong> and <strong>&lt;your_user&gt;</strong> with you P/S-user on SAP Cloud Platform<br>
<img src="images/52.png" alt=""></p>

<blockquote>
<p>NOTE: in case you get the message to confirm that you are located inside the EU, simply click on YES.</p>
</blockquote></li>
<li><p>Looking in the SAP Cloud Platform cockpit, under the <strong>Subscriptions</strong> tab, you can see that switching on the toolbar to the <strong>CONSUMER</strong> account, a new subscription has been added in the Subscribed Java Applications set. Click on the subscribed application (connectivity&lt;xx&gt;)<br>
<img src="images/53.png" alt=""></p></li>
<li><p>The subscription details are shown in the <strong>Overview</strong> tab. If you try to execute the application by clicking on the subscription link...<br>
<img src="images/54.png" alt=""></p></li>
<li><p>... you will see that the application fails with a &quot;<strong>Forbidden</strong>&quot; message. This because we have not yet set up permissions for this subscription<br>
<img src="images/55.png" alt=""></p></li>
<li><p>Go to <strong>Roles</strong> tab. The roles is already in because it&#39;s inherited from the provider account, but we need to assign users to it. Click on the <strong>Assign</strong> button<br>
<img src="images/56.png" alt=""></p></li>
<li><p>Enter your P/S-user and click on <strong>Assign</strong><br>
<img src="images/57.png" alt=""></p></li>
<li><p>This is how the overview page should appear<br>
<img src="images/58.png" alt=""></p>

<blockquote>
<p>NOTE: you might need to refresh or close and reopen your browser to get the updated status. </p>
</blockquote></li>
<li><p>Now click on the subscription link in the overview page<br>
<img src="images/59.png" alt=""></p></li>
<li><p>You should get the application page. Look at the destination information: the application is using the destination registered in the CONSUMER account, this because there is no destination in the SUBSCRIBED application<br>
<img src="images/60.png" alt=""></p></li>
<li><p>Go to the <strong>Destinations</strong> tab in the CONSUMER account subscription and click on <strong>Import Destination</strong><br>
<img src="images/62.png" alt=""></p></li>
<li><p>Import again the <em>search_engine_destination.txt</em> provided with this exercise, change the search URL to <a href="https://www.bing.com">https://www.bing.com</a> and click on <strong>Save</strong><br>
<img src="images/63.png" alt=""></p></li>
<li><p>Refresh your browser (you might need to wait up to 5 minutes in order to get the change) and you will see that now the application is taking the new destination<br>
<img src="images/64.png" alt=""></p></li>
<li><p>Congratulations! You have finished the exercise!</p></li>
</ol>

<h2 id="toc_12">Summary</h2>

<p>This concludes the exercise. You should have learned how to deal with multi-tenant applications.</p>



<script type="text/javascript">
var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var e=/\blang(?:uage)?-(\w+)\b/i,t=0,n=_self.Prism={util:{encode:function(e){return e instanceof a?new a(e.type,n.util.encode(e.content),e.alias):"Array"===n.util.type(e)?e.map(n.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function(e){var t=n.util.type(e);switch(t){case"Object":var a={};for(var r in e)e.hasOwnProperty(r)&&(a[r]=n.util.clone(e[r]));return a;case"Array":return e.map&&e.map(function(e){return n.util.clone(e)})}return e}},languages:{extend:function(e,t){var a=n.util.clone(n.languages[e]);for(var r in t)a[r]=t[r];return a},insertBefore:function(e,t,a,r){r=r||n.languages;var l=r[e];if(2==arguments.length){a=arguments[1];for(var i in a)a.hasOwnProperty(i)&&(l[i]=a[i]);return l}var o={};for(var s in l)if(l.hasOwnProperty(s)){if(s==t)for(var i in a)a.hasOwnProperty(i)&&(o[i]=a[i]);o[s]=l[s]}return n.languages.DFS(n.languages,function(t,n){n===r[e]&&t!=e&&(this[t]=o)}),r[e]=o},DFS:function(e,t,a,r){r=r||{};for(var l in e)e.hasOwnProperty(l)&&(t.call(e,l,e[l],a||l),"Object"!==n.util.type(e[l])||r[n.util.objId(e[l])]?"Array"!==n.util.type(e[l])||r[n.util.objId(e[l])]||(r[n.util.objId(e[l])]=!0,n.languages.DFS(e[l],t,l,r)):(r[n.util.objId(e[l])]=!0,n.languages.DFS(e[l],t,null,r)))}},plugins:{},highlightAll:function(e,t){var a={callback:t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};n.hooks.run("before-highlightall",a);for(var r,l=a.elements||document.querySelectorAll(a.selector),i=0;r=l[i++];)n.highlightElement(r,e===!0,a.callback)},highlightElement:function(t,a,r){for(var l,i,o=t;o&&!e.test(o.className);)o=o.parentNode;o&&(l=(o.className.match(e)||[,""])[1],i=n.languages[l]),t.className=t.className.replace(e,"").replace(/\s+/g," ")+" language-"+l,o=t.parentNode,/pre/i.test(o.nodeName)&&(o.className=o.className.replace(e,"").replace(/\s+/g," ")+" language-"+l);var s=t.textContent,u={element:t,language:l,grammar:i,code:s};if(!s||!i)return n.hooks.run("complete",u),void 0;if(n.hooks.run("before-highlight",u),a&&_self.Worker){var c=new Worker(n.filename);c.onmessage=function(e){u.highlightedCode=e.data,n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(u.element),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},c.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else u.highlightedCode=n.highlight(u.code,u.grammar,u.language),n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(t),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},highlight:function(e,t,r){var l=n.tokenize(e,t);return a.stringify(n.util.encode(l),r)},tokenize:function(e,t){var a=n.Token,r=[e],l=t.rest;if(l){for(var i in l)t[i]=l[i];delete t.rest}e:for(var i in t)if(t.hasOwnProperty(i)&&t[i]){var o=t[i];o="Array"===n.util.type(o)?o:[o];for(var s=0;s<o.length;++s){var u=o[s],c=u.inside,g=!!u.lookbehind,h=!!u.greedy,f=0,d=u.alias;u=u.pattern||u;for(var p=0;p<r.length;p++){var m=r[p];if(r.length>e.length)break e;if(!(m instanceof a)){u.lastIndex=0;var y=u.exec(m),v=1;if(!y&&h&&p!=r.length-1){var b=r[p+1].matchedStr||r[p+1],k=m+b;if(p<r.length-2&&(k+=r[p+2].matchedStr||r[p+2]),u.lastIndex=0,y=u.exec(k),!y)continue;var w=y.index+(g?y[1].length:0);if(w>=m.length)continue;var _=y.index+y[0].length,P=m.length+b.length;if(v=3,P>=_){if(r[p+1].greedy)continue;v=2,k=k.slice(0,P)}m=k}if(y){g&&(f=y[1].length);var w=y.index+f,y=y[0].slice(f),_=w+y.length,S=m.slice(0,w),O=m.slice(_),j=[p,v];S&&j.push(S);var A=new a(i,c?n.tokenize(y,c):y,d,y,h);j.push(A),O&&j.push(O),Array.prototype.splice.apply(r,j)}}}}}return r},hooks:{all:{},add:function(e,t){var a=n.hooks.all;a[e]=a[e]||[],a[e].push(t)},run:function(e,t){var a=n.hooks.all[e];if(a&&a.length)for(var r,l=0;r=a[l++];)r(t)}}},a=n.Token=function(e,t,n,a,r){this.type=e,this.content=t,this.alias=n,this.matchedStr=a||null,this.greedy=!!r};if(a.stringify=function(e,t,r){if("string"==typeof e)return e;if("Array"===n.util.type(e))return e.map(function(n){return a.stringify(n,t,e)}).join("");var l={type:e.type,content:a.stringify(e.content,t,r),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:r};if("comment"==l.type&&(l.attributes.spellcheck="true"),e.alias){var i="Array"===n.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(l.classes,i)}n.hooks.run("wrap",l);var o="";for(var s in l.attributes)o+=(o?" ":"")+s+'="'+(l.attributes[s]||"")+'"';return"<"+l.tag+' class="'+l.classes.join(" ")+'" '+o+">"+l.content+"</"+l.tag+">"},!_self.document)return _self.addEventListener?(_self.addEventListener("message",function(e){var t=JSON.parse(e.data),a=t.language,r=t.code,l=t.immediateClose;_self.postMessage(n.highlight(r,n.languages[a],a)),l&&_self.close()},!1),_self.Prism):_self.Prism;var r=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return r&&(n.filename=r.src,document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",n.highlightAll)),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism);
</script>

<script type="text/javascript">
!function(e){var t={variable:[{pattern:/\$?\(\([\w\W]+?\)\)/,inside:{variable:[{pattern:/(^\$\(\([\w\W]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b-?(?:0x[\dA-Fa-f]+|\d*\.?\d+(?:[Ee]-?\d+)?)\b/,operator:/--?|-=|\+\+?|\+=|!=?|~|\*\*?|\*=|\/=?|%=?|<<=?|>>=?|<=?|>=?|==?|&&?|&=|\^=?|\|\|?|\|=|\?|:/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\([^)]+\)|`[^`]+`/,inside:{variable:/^\$\(|^`|\)$|`$/}},/\$(?:[a-z0-9_#\?\*!@]+|\{[^}]+\})/i]};e.languages.bash={shebang:{pattern:/^#!\s*\/bin\/bash|^#!\s*\/bin\/sh/,alias:"important"},comment:{pattern:/(^|[^"{\\])#.*/,lookbehind:!0},string:[{pattern:/((?:^|[^<])<<\s*)(?:"|')?(\w+?)(?:"|')?\s*\r?\n(?:[\s\S])*?\r?\n\2/g,lookbehind:!0,inside:t},{pattern:/(["'])(?:\\\\|\\?[^\\])*?\1/g,inside:t}],variable:t.variable,"function":{pattern:/(^|\s|;|\||&)(?:alias|apropos|apt-get|aptitude|aspell|awk|basename|bash|bc|bg|builtin|bzip2|cal|cat|cd|cfdisk|chgrp|chmod|chown|chroot|chkconfig|cksum|clear|cmp|comm|command|cp|cron|crontab|csplit|cut|date|dc|dd|ddrescue|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|enable|env|ethtool|eval|exec|expand|expect|export|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|getopts|git|grep|groupadd|groupdel|groupmod|groups|gzip|hash|head|help|hg|history|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|jobs|join|kill|killall|less|link|ln|locate|logname|logout|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|make|man|mkdir|mkfifo|mkisofs|mknod|more|most|mount|mtools|mtr|mv|mmv|nano|netstat|nice|nl|nohup|notify-send|nslookup|open|op|passwd|paste|pathchk|ping|pkill|popd|pr|printcap|printenv|printf|ps|pushd|pv|pwd|quota|quotacheck|quotactl|ram|rar|rcp|read|readarray|readonly|reboot|rename|renice|remsync|rev|rm|rmdir|rsync|screen|scp|sdiff|sed|seq|service|sftp|shift|shopt|shutdown|sleep|slocate|sort|source|split|ssh|stat|strace|su|sudo|sum|suspend|sync|tail|tar|tee|test|time|timeout|times|touch|top|traceroute|trap|tr|tsort|tty|type|ulimit|umask|umount|unalias|uname|unexpand|uniq|units|unrar|unshar|uptime|useradd|userdel|usermod|users|uuencode|uudecode|v|vdir|vi|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yes|zip)(?=$|\s|;|\||&)/,lookbehind:!0},keyword:{pattern:/(^|\s|;|\||&)(?:let|:|\.|if|then|else|elif|fi|for|break|continue|while|in|case|function|select|do|done|until|echo|exit|return|set|declare)(?=$|\s|;|\||&)/,lookbehind:!0},"boolean":{pattern:/(^|\s|;|\||&)(?:true|false)(?=$|\s|;|\||&)/,lookbehind:!0},operator:/&&?|\|\|?|==?|!=?|<<<?|>>|<=?|>=?|=~/,punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];]/};var a=t.variable[1].inside;a["function"]=e.languages.bash["function"],a.keyword=e.languages.bash.keyword,a.boolean=e.languages.bash.boolean,a.operator=e.languages.bash.operator,a.punctuation=e.languages.bash.punctuation}(Prism);
</script>

<script type="text/javascript">
Prism.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=.$<]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},Prism.hooks.add("wrap",function(a){"entity"===a.type&&(a.attributes.title=a.content.replace(/&amp;/,"&"))}),Prism.languages.xml=Prism.languages.markup,Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup;
</script>


</body>

</html>
